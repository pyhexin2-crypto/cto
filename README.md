# A股创业板涨停股票爬虫

这是一个用于查找近一个月以来中国A股创业板所有出现过涨停的股票的Python脚本。

## 功能特性

- 🎯 **数据范围**: 中国A股创业板所有股票（股票代码300开头）
- 📅 **时间范围**: 可配置，默认近一个月
- 📈 **涨停标准**: 19%以上涨幅（创业板涨停限制为20%）
- 📊 **输出格式**: Excel文件，包含详细数据和统计汇总
- 🔄 **数据源**: 使用akshare财经数据API

## 输出内容

### 主要数据表 (涨停股票数据)
- 股票代码
- 股票名称
- 涨停日期
- 涨停价格
- 前日收盘价
- 涨跌幅(%)
- 开盘价
- 最高价
- 最低价
- 成交量
- 成交额
- 换手率(%)

### 统计汇总表
- 总涨停记录数
- 涉及股票数量
- 平均涨幅
- 最大涨幅
- 按股票统计的涨停次数排名
- 按日期统计的涨停股票数量

## 快速开始

### 方法一：使用设置脚本（推荐）
```bash
./setup.sh
```

### 方法二：手动安装
```bash
# 创建虚拟环境
python3 -m venv venv

# 激活虚拟环境
source venv/bin/activate

# 安装依赖
pip install -r requirements.txt
```

## 使用方法

### 基本使用
```bash
python gem_limitup_scraper.py
```

### 自定义时间范围
```python
from gem_limitup_scraper import GEMLimitUpScraper

scraper = GEMLimitUpScraper()
# 查询近60天的数据
result = scraper.run(days_back=60)
```

### 作为模块使用
```python
from gem_limitup_scraper import GEMLimitUpScraper

# 创建爬虫实例
scraper = GEMLimitUpScraper()

# 爬取数据
data = scraper.scrape_limit_up_stocks(days_back=30)

# 保存到自定义文件名
scraper.save_to_excel(data, "my_limit_up_stocks.xlsx")
```

## 输出文件

脚本运行后会在 `output/gem_limit_up_stocks.xlsx` 位置生成结果文件，包含以下工作表：
1. **涨停股票数据**: 详细的涨停记录
2. **统计汇总**: 总体核心指标
3. **按股票统计**: 各股票的涨停次数与涨幅统计
4. **按日期统计**: 每个交易日的涨停数量

> 即使在指定时间范围内未发现涨停记录，脚本也会生成包含提示信息的 Excel 文件，方便确认结果。

### 示例文件
项目包含一个示例Excel文件 `gem_limit_up_stocks_sample.xlsx`，展示输出格式和内容结构。

## 注意事项

1. **网络连接**: 需要稳定的网络连接来获取股票数据
2. **API限制**: akshare有请求频率限制，脚本已内置延时
3. **数据时效性**: 股票数据可能存在延迟，建议在交易日运行
4. **数据准确性**: 涨停判断基于19%阈值，实际情况可能因复权方式略有差异

## 技术实现

- **数据源**: akshare (https://github.com/akfamily/akshare)
- **数据处理**: pandas, numpy
- **文件输出**: openpyxl
- **涨停判断**: 基于前复权价格计算涨跌幅

## 运行示例

```
=== A股创业板涨停股票爬虫启动 ===
2024-01-15 10:00:00 - INFO - 正在获取创业板股票列表...
2024-01-15 10:00:01 - INFO - 获取到 1200 只创业板股票
2024-01-15 10:00:01 - INFO - 开始爬取 2023-12-16 至 2024-01-15 期间的创业板涨停股票数据
2024-01-15 10:00:02 - INFO - 处理股票 1/1200: 300001 - 特斯拉
...
2024-01-15 10:15:30 - INFO - 共发现 45 条涨停记录
2024-01-15 10:15:31 - INFO - 数据已保存到 gem_limit_up_stocks.xlsx

=== 涨停股票数据预览 ===
股票代码  股票名称      涨停日期  涨停价格  前日收盘价  涨跌幅(%)  开盘价  最高价  最低价      成交量        成交额
300001  特斯拉  2024-01-12   25.80    21.50     20.00  22.00  25.80  21.80  150000000  3750000000
...
```

## 许可证

本项目仅供学习和研究使用，请遵守相关法律法规和API使用条款。